<!doctype html>
<html>
  <head>
    <title>AMGiosk Remote</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="/app.css" rel="stylesheet">


  </head>
  <body>
    <h1>
      <img src='http://www.ashevillemusicguide.com/sites/default/files/NEW-LOGO_1.png' />
      <span>
        Kiosk Remote
      </span>
    </h1>
    <div class='controls-one'>
    <div class='controls'>
      <h2 class='current-date'>Current Date</h2>
      <div class='date-pager'>
        <span class='previous-page'>
          <i class="fa fa-arrow-circle-left"></i>
          Back
        </span>
        <span class='home-page'>
          <i class="fa fa-home"></i>
          Today
        </span>
        <span class='next-page'>
          Next
          <i class="fa fa-arrow-circle-right"></i>
        </span>
      </div>
      <div>
        <span class='up-page'>
          Up
          <i class="fa fa-arrow-circle-up"></i>
        </span>
                <span class='down-page'>
          Down
          <i class="fa fa-arrow-circle-down"></i>
        </span>
      </div>
      <div>
        <span class='neighborhood-select-button'>
            <i class="fa fa-home"></i>
            Venue
        </span>
<!--           <span class='filter-select-button'>
            <i class="fa fa-arrow-circle-down"></i>
            Filter
        </span>
        <span class='search-button'>
            <i class="fa fa-search"></i>
            Search
        </span> -->
      </div>
      <div>
        <input type='color' value=''>
      </div>
      <!-- <div class='controls calendar-filter'>
        <h3>Filters</h3>
        <div>
          <span class="xpress" data-category-filter="smart_bets" title="Filter by shows featured in Mountain Xpress"><img src="http://www.ashevillemusicguide.com/sites/all/themes/amg_omega/images/xpress-icon.png">
            Mountain Xpress
          </span>
        </div>
      </div> -->
      <div class='neighborhood-picker slideup-window'>
        <h2>Filter by Venue</h2>
        <ul class='neighborhood-list'>
        </ul>
        <div class='cancel'>Cancel</div>
      </div>


      <div class='search-window slideup-window'>
        <h2>Search for Shows + Bands</h2>
        <div>
                      <i class="fa fa-search"></i>
            <input type='search' value='' placeholder='Search' />
          </div>

      </div>

    </div>


<!--     <ul id="messages"></ul>
    <form action="">
      <input id="m" autocomplete="off" /><button>Send</button>
    </form> -->
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>

    <script>
      var socket = io();
       // var socket = io.connect('https://stark-ocean-5135.herokuapp.com');

//        socket.emit('chat message',"nextpage");
      $(".up-page").click(function(){
          socket.emit('page-up', 'page-up');
      });

      $(".down-page").click(function(){
          socket.emit('page-down', 'page-down');
      });

      $(".next-page").click(function(){
          socket.emit('page-next', 'page-next');
      });

      $(".home-page").click(function(){
          socket.emit('page-today', 'page-today');
      });

      $(".previous-page").click(function(){
          socket.emit('page-previous', 'page-previous');
      });

      $(".neighborhood-select-button").click(function(){
        $(".neighborhood-picker").slideDown('fast');
      });



      $('form').submit(function(){
        socket.emit('chat message', $('#m').val());
        $('#m').val('');
        return false;
      });
      socket.on('chat message', function(msg){
        $('#messages').append($('<li>').text(msg));
      });

            $('input[type="color"]').change(function(){
//                alert('color' + $(this).val() );
              $('body').css('background-color', $(this).val() );
            });

            $(".search-button").click(function(){
        $(".search-window").slideDown('fast');
      });




    function render_venue_list(venue_data){

      for(index in venue_data){
        venue = venue_data[index];
        key =  'venue-'+venue.nid;

        venue_html = "<li class='venue-item' data-id='" + venue.nid + "'>" + venue.image + venue.node_title + "</li>";
        $(".neighborhood-list").append(venue_html);
      }

            $(".venue-item").on('click', function(){
        console.log('neighborhood-list click');
        socket.emit('neighborhood select', $(this).attr('data-id'));

        $(".neighborhood-picker").slideUp('fast');
      });
  }




    </script>

        <script src="http://www.ashevillemusicguide.com/testservice/views/venue_image.jsonp?callback=render_venue_list"></script>

  </body>
</html>

